# 卷积

- 基本概念
  -  卷积核大小
     -  一般为奇数
     -  深度学习中 可以使用两个小的代替大的 减少运算压力
  -  锚点
  -  边界扩充
     -  当卷积核大于1且不进行边界扩充,输出尺寸将相应缩小
     -  当卷积核以标准方式进行边界扩充,则输出数据的空间尺寸将与输入相等
     -  计算公式
        -  N =(W -F +2P)/S+1
           -  N 输出图像大小
           -  W 原图大小
           -  F 卷积核大小
           -  P 扩充尺寸
           -  S 步长大小
  -  步长
  
-  API   cv.filter2D(src, ddepth, kernal)
  
  - src  原图
  - ddepth 默认-1  位深
  -  kernal 卷积核（或者更确切地说是相关核），单通道浮点。矩阵;如果要将不同的内核应用于不同的通道，请将图像拆分为 .使用 split 分离颜色平面并单独处理它们。
  
  ```
  import cv2 as cv
  import numpy as np
  # 加载图片
  img = cv.imread("image/dog.jpeg")
  # 生成卷积矩阵
  kernal = np.ones((5, 5), np.float32) / 25
  #  卷积 平滑过度
  dst = cv.filter2D(img, -1, kernal)
  
  cv.imshow("dst", dst)
  cv.imshow("img", img)
  cv.waitKey(0)
  
  ```
  
  
  

# 图像噪声

- ## 椒盐噪声

- ## 高斯噪声

# 滤波与图像平滑

-  低通滤波
  - 低通滤波可以去除噪音与图像平滑
- 高通滤波
  - 可以帮助查找图像边缘





三种滤波器的对比

| 滤波器种类 |                           基本原理                           |                             特点                             |
| ---------- | :----------------------------------------------------------: | :----------------------------------------------------------: |
| 均值滤波   |       使用模板内所有像素的平均值代替模板中心像素灰度值       |     易收到噪声的干扰，不能完全消除噪声，只能相对减弱噪声     |
| 中值滤波   | 计算模板内所有像素中的中值，并用所计算出来的中值体改模板中心像素的灰度值 | 对噪声不是那么敏感，能够较好的消除椒盐噪声，但是容易导致图像的不连续性 |
| 高斯滤波   | 对图像邻域内像素进行平滑时，邻域内不同位置的像素被赋予不同的权值 | 对图像进行平滑的同时，同时能够更多的保留图像的总体灰度分布特征 |

- ## 方盒滤波

  - API  cv. boxFilter(src, ddepth, ksize, dst=None, anchor=None, normalize=None, borderType=None)
    - ksize 大小 如果
    - normalize == true   效果等于均值滤波

- ## 均值滤波

```
cv.blur(src, ksize, anchor, borderType)
```

可以使图片变模糊

- ## 高斯滤波

```
  cv2.GaussianBlur(src,ksize,sigmaX,sigmay,borderType)
```

可以去除高斯噪声

- ## 中值滤波

去除椒盐噪声

```
dog2 = cv.medianBlur(dogsp,3)
```

https://blog.csdn.net/godadream/article/details/81568844