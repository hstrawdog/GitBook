# 直方图

-  calcHist 

  注意 每个参数需要添加 []

  ```
  import cv2  as cv 
  import numpy as np 
  import matplotlib.pyplot as plt

  # 加载灰度图
  img = cv.imread("./image/cat.jpeg",0)
  plt.imshow(img, cmap= plt.cm.gray)

  # 获取直方图
  hist =cv.calcHist([img],[0],None,[256], [0,256])

  # 绘制 并显示
  # 创建图
  plt.figure(figsize=(10,8))
  # 绘制
  plt.plot(hist)
  # 显示
  plt.show()

  ```

-  与掩膜图应用 

  ```
  # 创建图片
  mask = np.zeros(img.shape[:2],np.uint8)
  # 设置非掩膜部分
  mask[400:650,200:500]=1
  # 与 运算 取出掩膜部分
  mask_img= cv.bitwise_and(img,img,mask= mask)
  # 计算直方图
  mask_hist = cv.calcHist([img], [0], mask, [256],[0,256])
  # 显示
  plt.plot(mask_hist)
  plt.show()

  ```

-  直方图均衡化

  ```
  # 用与曝光过度
  dst= cv.equalizeHist(img)
  # 显示
  plt.imshow(dst ,cmap= plt.cm.gray)
  ```

- 自适应均衡化

  ```
  #cv2.createCLAHA(clipLimit, titleGridSize) 
  # clipLimit 对比度的大小  titleGridSize 每次处理块的大小 
  cl = cv.createCLAHE(2.0,(8,8))
  # 使用 .apply 进行均衡化操作
  clahe =cl.apply(img)
  plt.imshow(clahe, cmap= plt.cm.gray)
  ```

  http://47.107.161.46/article/2021/5/18/1386.html
